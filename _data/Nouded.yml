- name: 'I Teenuste liidestamine eesti.ee-ga'
  title: 'I Teenuste liidestamine eesti.ee-ga*'
  notes: '*kehtib seni kuni ei ole hetkel kehtivat eesti.ee määrust muudetud'
  requirements:
  - no: 1.1
    name: >
      Teenusepakkuja poolt volitatud isik täidab ja edastab iga uue teenuse liidestamise avalduse RIA kasutajatoele (help@ria.ee) 
      või elektroonilise veebivormi kaudu. Avalduse vormi kehtestab haldaja.
  - no: 1.2
    name: >
      Hetkel kehtiva eesti.ee määruse põhjal täidab Teenusepakkuja avalduses järgnevad punktid:

      *   Teenuse nimi;

      *   Teenuse sisu, osutamise põhimõtted ja eesmärk;

          *   Vabas vormis kirjeldus teenusepakkujalt, mida teenus teeb ja miks on soov teenust eesti.ee-s pakkuda;

      *   Teenuse kirjeldus;

          *   Lõppkasutajale mõeldud eesti.ee-s teenuse juures nähtav abitekst (eesti, vene ja inglise keeles);

      *   eesti.ee-ga liidestumise viis (xForms, NPM, MicroFrontend, muu);

      *   Teenusepakkuja kontaktandmed;

      *   Teenuse osutamise aeg;

          *   Teenuse osutamise aeg koos garanteeritud kasutajatoega;

      *   Teenuse lõppkasutajate kategooriad;

      *   Teenuse lõppkasutajale esitatavad nõuded;

          *   Vabas vormis kirjeldus Teenusepakkujalt, kui kasutajad küsivad seda infot;

          *   Lõppkasutajale esitatavad nõuded;

      *   Teenuse kasutamiseks nõutav toiming;

      *   Teenuse kasutamise tulemus ja teenuse õiguslik tagajärg;
          *   Õiguslikeks tagajärgedeks võivad olla:
              *   Teenuse kasutamisel nõustub lõppkasutaja tema kohta tehtava isikuandmete päringuga;

              *   Läbi teenuse avalduse esitamisel antakse ametnikule luba lõppkasutaja andmeid töödelda ja kontrollida;

              *   Näiteks kui kasutaja ei täida ettenähtud ajaks teenuses sisalduvat vormi või avaldust, siis talle ei määrata vastavat toetust või hüvitist;

      *   Teenuse tasulisus ja teenuse hind;

      *   Teenuse osutamise õiguslik alus ja viited teenuse osutamist reguleerivale õigusakti sättele;

      *   Maksimaalne ühel ajal teenust kasutavate lõppkasutajate arv, mille korral on tagatud teenuse kvaliteetne toimimine;

      *   Teenuse planeeritud katkestusest RIA kasutajatoele etteteatamise aeg (vt punkti [2.5.2](https://e-gov.github.io/eesti-ee-mfn/#2.5.2));

      *   Teenuse tööajal planeeritud katkestuste maksimaalne kogukestus tundides;

      *   Teenuse ühe planeeritud katkestuse maksimaalne kestus tundides;

      *   Teenuse ühekordse planeerimata katkestuse kestus tundides;

      *   Teenuse tööajal planeerimata katkestuste kogukestus aastas tundides;

      *   Teenuse E-ITS kaitsetarve.
    
  - no: 1.3
    name: >
      Teenuse liidestamine eesti.ee-ga või registeerimisest keeldumine toimub **maksimaalselt 20 tööpäeva** jooksul alates avalduse 
      esitamisest. Selle käigus kontrollib haldaja teenuse nõuetele vastavust, tehnilist sobivust ning kasutatavust.
  - no: 1.4
    name: >
      Teenusepakkuja kontrollib peale teenuse avaldamist eesti.ee eeltoodangu keskkonnas (stage keskkond), kas teenuse töökindlus ja 
      vajalik funktsionaalsus vastab soovitule. Teenusepakkuja peab arvestama, et teenuse kasutamiseks vajalik funktsionaalsus peab 
      tulema teenuse kaudu, mitte ei ole eesti.ee funktsionaalsusel põhinev.
    requirements:
      - no: 1.4.1
        name: >
          Kui vastab, avaldatakse teenus toodangu keskkonnas esimesel võimalusel.
      - no: 1.4.2
        name: >
          Kui ei vasta, siis tuvastatakse, kas tekkinud viga on seotud eesti.ee või teenuse endaga ning lepitakse kokku edasised tegevused 
          vea kõrvaldamiseks.

- name: 'II Ärilised ja tehnilised nõuded'
  title: 'II Ärilised ja tehnilised nõuded'
  requirements:
  - no: 2.1
    name: '**Üldnõuded**'
    requirements:
    - no: 2.1.1
      name: >
        eesti.ee-ga liidestuvad teenused peavad arvestama lõppkasutaja keelevalikuga. Näiteks kui kasutaja on valinud eesti.ee 
        kuvakeeleks inglise keele, siis ühelt teenuselt teisele liikumine ei tohi seda valikut mõjutada.
    - no: 2.1.2
      name: >
        Teenused, mis liidetakse eesti.ee-ga, peavad olema turvatestimisel saanud hinnangu _toodangukõlbulik_.
    - no: 2.1.3
      name: >
        Teenuse ja eesti.ee liitumislahenduse turvatestimise tellib RIA pärast seda, kui punktis [2.2](https://e-gov.github.io/eesti-ee-mfn/#2.2) toodud nõuded teenuse visuaalile 
        on täidetud. Turvatestimise kulud katab teenusepakkuja.
      requirements:
      - no: 2.1.3.1
        name: >
          Liitumislahendust turvatestitakse eesti.ee ja liidestuva teenuse testkeskkondades. Testimise ajal ei ole lubatud eesti.ee ega 
          liidestuva teenuse testkeskkondade muutmine, uuendamine või muul moel manipuleerimine.
    - no: 2.1.4
      name: >
        Isikustatud teenused peavad seansihoidlana kasutama kas riigiportaali TIMUR komponenti või olema liidestatud GovSSO-ga, juhul, 
        kui teenus liidestub eesti.ee eraisiku vaadega.
      requirements:
      - no: 2.1.4.1
        name: >
          Juhul, kui liidestuv teenus soovib pakkuda teenust ka ettevõtja rollile/vaates (või ainult ettevõtja rollis/vaates), siis täna on 
          sessiooni jagamiseks võimalik kasutada ainult TIMURi komponenti.
    - no: 2.1.5
      name: >
        Teenuse testkeskond peab kasutama täiskomplektseid testandmeid, mida on võimalik eesti.ee testkeskkonnas (stage) teenuse testimisel 
        välja kuvada.
    - no: 2.1.6
      name: >
        Kui teenus on liidestatud X-tee'ga, siis peavad ka X-tee testkeskkonnas olema teenuse testimiseks täiskomplektsed testandmed. Kui need 
        andmed on seotud kindlate testisikutega, tuleb testisikute andmed edastada haldajale.
    - no: 2.1.7
      name: >
        Liidestuva teenuse koodivaramusse ei ole soovituslik lisada pikemaid infoartikleid (va abitekstid).
      requirements:
      - no: 2.1.7.1
        name: >
          Artiklite kuvamise ja haldusega seotud nõuded on kirjeldatud punktis 2.3.
    - no: 2.1.8
      name: >
        Teenuse ja selles olevate andmete varundamine ei kuulu haldaja kohustuste hulka.
  - no: 2.2
    name: 'Nõuded teenuse visuaalile'
    requirements:
      - no: 2.2.1
        name: >
          Teenuse loomiseks vajalikke visuaalseid elemente pakub haldaja.
      - no: 2.2.2
        name: >
          Kui olemasolevate seas ei leidu vajalikku elementi, siis tuleb uue elemendi loomisel lähtuda  eesti.ee stiiliraamatust (kuni selle 
          valmimiseni täidab selle rolli Veera Figma). Juhul kui kaks eelmanitut sisaldavad sama komponenti, tuleb lähtuda eesti.ee stiiliraamatust.
        requirements:
          - no: 2.2.2.1
            name: >
              Juhul, kui mitut teenust arendatakse paralleelselt ning tekib vajadus uue, kuid samaväärse elemendi järele, siis peavad uued visuaalid 
              olema kõigis arendustes samasugused. Näide: Kui luuakse kahte erinevat teenust ja mõlemas teenuses kasutatakse sama funktsiooni täitvat 
              nuppu, siis peavad uued nupud olema visuaalselt identsed. Erandid kooskõlastatakse riigiportaaliga.
          - no: 2.2.2.2
            name: >
              Veera disainisüsteem: https://www.figma.com/file/nNCV5kRqdRkS8MOCK1ZbqU/Veera-Design-System?node-id=5458%3A144 (kehtib kuni 
              p [2.2.2.3](https://e-gov.github.io/eesti-ee-mfn/#2.2.2.3) mainitud stiiliraamatu valmimiseni)
          - no: 2.2.2.3
            name: >
              eesti.ee stiiliraamat: täpne asukoht täpsustatakse (_valmib veebruari lõpp 2023_)
          - no: 2.2.2.4
            name: >
              Riigiportaaliga tuleb kooskõlastada enne arendustegevuste algust:
            requirements:
              - no: 2.2.2.4.1
                name: >
                  Uued visuaalsed elemendid;
              - no: 2.2.2.4.2
                name: >
                  Uute visuaalsete elementide dokumentatsioon;
              - no: 2.2.2.4.3
                name: >
                  Lõplikud visuaalid;
      - no: 2.2.3
        name: 'Nõuded mobiilivaatele:'
        requirements:
        - no: 2.2.3.1
          name: >
            Peab olema skaleeruv ehk seadmele kohanduv vastavalt riigiportaali poolt antud murdepunktidele (breakpoints);
        - no: 2.2.3.2
          name: >
            Hoidma fookuses ühte tegevust/toimingut, näiteks menüü on peidetud e-teenuse vaates;
        - no: 2.2.3.3
          name: >
            Sisu peab olema selgesti kättesaadav ja loetav, tehes minimaalse vajaliku arvu klikke vajaliku sisuni jõudmiseks;
        - no: 2.2.3.4
          name: >
            Peab vältima kasutamist segavaid elemente nagu animatsioonid, bännerid, GIFid ja muud sisu tarbimist takistavad visuaalsed komponendid;
        - no: 2.2.3.5
          name: >
            Tuleb vältida horisontaalset kerimist;
        - no: 2.2.3.6
          name: >
            Ükski avatav element, nagu datepicker, dropdown menüüd jms, ei tohi väljuda ekraani vaateväljast ja peab mahutuma kuvatava 
            ekraanilaiuse sisse;
        - no: 2.2.3.7
          name: >
            Võimalusel minimeerida vertikaalset kerimist, kasutades sammu/protsessipõhist vaadet, kus sammud on välja toodud teenuse üleval ning 
            hetkel aktiivsel sammul olev sakk on visuaalselt eristatud;
        - no: 2.2.3.8
          name: >
            Teenusel kuvatavad vea-, info- ja hoiatusteated peavad kattuma eesti.ee teavitusevärvide ja kujundusega.
                  
      - no: 2.2.4
        name: >
          Pildimaterjalide ja graafika kasutamine:
        requirements:
        - no: 2.2.4.1
          name: >
            Pildid peavad kasutama WEBP formaati või erandjuhul olema kohandatud veebis kasutamiseks läbi fototöötlus tarkvara;
        - no: 2.2.4.2
          name: >
            Illustratsioonide kasutamisel peab eelistama SVG formaati;
        - no: 2.2.4.3
          name: >
            Taustapildid ja gradiendid peavad olema CSSis base64 formaadis, et vähendada päringute arvu;
        - no: 2.2.4.4
          name: >
            Piltide ja illustratsioonide/jooniste jmt lisamine teenustesse/rakendustesse jmt toimub pärast materjali kooskõlastamist riigiportaaliga.
        
      - no: 2.2.5
        name: >
          Otsuste tegemisel lähtutakse riigiportaalis kokkulepitud kasutajamugavuse printsiipidest, UI/UX parimatest praktikatest ning 
          teenuse kasutatavusest erinevates seadmetes.
      
  - no: 2.3
    name: 'Infoteenus'
    sections:
    - name: 'Üldnõuded'
      requirements:
      - no: 2.3.1
        name: >
          Otsuste tegemisel lähtutakse riigiportaalis kokkulepitud kasutajamugavuse printsiipidest, UI/UX parimatest praktikatest ning 
          teenuse kasutatavusest erinevates seadmetes.
      

- name: 'III Muud nõuded'
  title: 'III Muud nõuded'
  requirements:
  - no: 3.1
    name: >
      Teenusepakkuja peab arvestama eesti.ee ekspluatatsiooninõuetega: [Kinnitatud sla-d](https://confluence.ria.ee/display/RTKS/Kinnitatud+sla-d). 
  - no: 3.2
    name: >
      Teenusepakkuja peab arvestama eesti.ee määruses toodud nõudeid: (https://www.riigiteataja.ee/akt/104102013008?leiaKehtiv). 
  - no: 3.3
    name: >
      Teenusepakkuja peab arvestama SDG määruses toodud nõudeid: (https://eur-lex.europa.eu/legal-content/ET/ALL/?uri=CELEX:62010TB0484(01)).  
